<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    <script src="../js/lib/jquery-1.11.1.js"></script>
    <!-- <script src="../js/global.js"></script> -->
    <script>
        $(document).ready(function(){
            // $.get('../json/data.json',function(){

            // })
            // var request = $.ajax({
            //     url: '../json/data.json',
            //     type: 'GET',
            //     data: {
            //         age: 123
            //     },
            //     beforeSend: function(){

            //     }
            // });
            // request.success(function(json){
            //     console.log(json)
            // });


            var ajaxFn = {
                url: '',
                save: function(data, callback, errback, beforeSend){
                    $.get('../json/data.json',function(json){
                        $.ajax({
                            url: this.url,
                            method: 'post',
                            data: data,
                            beforeSend: function(xhr){
                                if(beforeSend)
                                    beforeSend(xhr, json.data);
                            },
                            success: callback
                        });
                    })
                   
                }
            }

            var sendData = $.extend(false, ajaxFn, {
                url: '../json/data1.json'
            });


            sendData.save({
                // aa: 123
            }, function(res){

            }, null, function(xhr, data){
                // $.get('../json/data.json',function(data){
                    xhr.setRequestHeader('abc', data);
                // })
                
            })
        });
    </script>
</body>
</html>
