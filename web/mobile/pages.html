<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="../js/resources/jquery-mobile-1.4.5/jquery.mobile-1.4.5.min.css">
	<title>Document</title>
	<style>
		iframe{
			border: none;
			border-bottom: 1px solid #ccc;
			width: 100%;
		}
		.ui-footer{
			position: absolute;
			bottom: 20vh;
			width: 100%;
		}
		.ui-footer > button{
			width: 49% !important;
		}
		.ui-field-contain > div{
			text-align: center;
		}
		button{
			position: absolute !important;
			bottom: 5vh !important;
		}
		#filter-menu{
			max-height: 100px;
		}
	</style>
</head>
<body>
	<div data-role="page" id="page0" class="paging">
		<!--header-->
		<iframe id="header" src="../mobile/header.html"></iframe>
		<!--content-->
		<h1>第一页</h1>

		<!--footer-->
		<!-- <button class="left"><a href="#">left</a></button>
		<button class="right"><a href="#">right</a></button> -->

		<div data-role="footer">
			<!-- <button class="left">left</button>
			<button class="right">right</button> -->

			<div class="ui-field-contain">
				<select name="select-native" id="filter-menu0" class="filterable-select" data-native-menu="false">
					<option value="0">第一页</option>
					<option value="1">第二页</option>
					<option value="2">第三页</option>
					<option value="3">第四页</option>
					<option value="4">第五页</option>
				</select>
			</div>
		</div>
		<button>提交</button>
		<!-- <iframe id="footer" src="../mobile/footer.html" frameborder="0"></iframe> -->
	</div>
	<div data-role="page" id="page1" class="paging">
		<iframe id="header" src="../mobile/header.html"></iframe>
		<h1>第二页</h1>
		<!-- <button class="left"><a href="#">left</a></button>
		<button class="right"><a href="#">right</a></button> -->

		<div data-role="footer">
			<!-- <button class="left">left</button>
			<button class="right">right</button> -->

			<div class="ui-field-contain">
				<select name="select-native" id="filter-menu1" class="filterable-select" data-native-menu="false">
					<option value="0">第一页</option>
					<option value="1" selected>第二页</option>
					<option value="2">第三页</option>
					<option value="3">第四页</option>
					<option value="4">第五页</option>
				</select>
			</div>
		</div>
		<button>提交</button>
		<!-- <iframe id="footer" src="../mobile/footer.html" frameborder="0"></iframe> -->
	</div>
	<div data-role="page" id="page2" class="paging">
		<iframe id="header" src="../mobile/header.html"></iframe>
		<h1>第三页</h1>
		<!-- <button class="left"><a href="#">left</a></button>
		<button class="right"><a href="#">right</a></button> -->

		<div data-role="footer">
			<!-- <button class="left">left</button> -->
			<!-- <button class="right">right</button> -->

			<div class="ui-field-contain">
				<select name="select-native" id="filter-menu2" class="filterable-select" data-native-menu="false">
					<option value="0">第一页</option>
					<option value="1">第二页</option>
					<option value="2" selected>第三页</option>
					<option value="3">第四页</option>
					<option value="4">第五页</option>
				</select>
			</div>
		</div>
		<button>提交</button>
		<!-- <iframe id="footer" src="../mobile/footer.html" frameborder="0"></iframe> -->
	</div>

	<div data-role="page" id="page3" class="paging">
		<iframe id="header" src="../mobile/header.html"></iframe>
		<h1>第四页</h1>
		<!-- <button class="left"><a href="#">left</a></button>
		<button class="right"><a href="#">right</a></button> -->

		<div data-role="footer">
			<!-- <button class="left">left</button> -->
			<!-- <button class="right">right</button> -->

			<div class="ui-field-contain">
				<select name="select-native" id="filter-menu3" class="filterable-select" data-native-menu="false">
					<option value="0">第一页</option>
					<option value="1">第二页</option>
					<option value="2">第三页</option>
					<option value="3" selected>第四页</option>
					<option value="4">第五页</option>
				</select>
			</div>
		</div>
		<button>提交</button>
		<!-- <iframe id="footer" src="../mobile/footer.html" frameborder="0"></iframe> -->
	</div>

	<div data-role="page" id="page4" class="paging">
		<iframe id="header" src="../mobile/header.html"></iframe>
		<h1>第五页</h1>
		<!-- <button class="left"><a href="#">left</a></button>
		<button class="right"><a href="#">right</a></button> -->

		<div data-role="footer">
			<!-- <button class="left">left</button> -->
			<!-- <button class="right">right</button> -->

			<div class="ui-field-contain">
				<select name="select-native" id="filter-menu4" class="filterable-select" data-native-menu="false">
					<option value="0">第一页</option>
					<option value="1">第二页</option>
					<option value="2">第三页</option>
					<option value="3">第四页</option>
					<option value="4" selected>第五页</option>
				</select>
			</div>
		</div>
		<button>提交</button>
		<!-- <iframe id="footer" src="../mobile/footer.html" frameborder="0"></iframe> -->
	</div>
	<script src="../js/lib/jquery-1.11.1.js"></script>
	<script src="../js/resources/jquery-mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<script>
		$(document).ready(function(){
			(function(){
				var count = 0;
				//reload page set count
				$.each($('.paging'),function(k){
					if($(this).css('display') === 'block')
						count = k;
				});
				$('.right a').prop('href','#page' + (count));
				// $('.left').on('tap',function(){
				$('.paging').on('swiperight',function(){
					count--;
					if(count < 0){
						count = 0;
						return false;
					}
					// $('#page' + count).show();
					// $('#page' + (count + 1)).hide();

					$.mobile.changePage('#page' + count,{transition: 'fade'});

					// $('.right a').prop('href','#page' + (count + 1));
					// $('.left a').prop('href','#page' + count);
				});
				$('.paging').on('swipeleft',function(){
					count++;
					if(count > 4){
						count = 4;
						return false;
					}
					// $('#page' + count).show();
					// $('#page' + (count - 1)).hide();

					$.mobile.changePage('#page' + count,{transition: 'fade'});

					// $('.right a').prop('href','#page' + (count + 1));
					// $('.left a').prop('href','#page' + count);
				});
				var isRun = false;
				function selectChange(){
					$('.ui-popup-container').off().click(function(){
						isRun = true;
					});
					$('body').off().on('change','.filterable-select',function(){
						if(isRun){
							isRun = false;
							var value = $(this).val();
							$.mobile.changePage('#page' + value);
							count = parseInt(value);
						}
					});
				}
				selectChange();
				$('.paging').on('pageshow',function(){
					selectChange();
				});
				$('.paging').on('pagebeforeshow',function(){
					$('#filter-menu' + count).val(count).change();
				});
			})();
		});
	</script>
</body>
</html>
