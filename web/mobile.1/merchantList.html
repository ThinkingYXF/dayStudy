<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="../js/resources/jquery-mobile-1.4.5/jquery.mobile-1.4.5.min.css">
	<title>商户列表</title>
	<style>
		.ui-page{
			background: #fff;
		}
		.user{
			text-align: center;
			border-bottom: 1px solid #ccc;
			margin: 0;
			padding: 10px;
			font-weight: normal;
		}
		li{
			list-style: none;
			margin-bottom: 2vh;
		}
		.binding{
			position: absolute;
			bottom: 5vh;
		}
		p{
			padding-left: 2rem;
		}
	</style>
</head>
<body>
	<h3 class="user">用户:<span></span></h3>
	<p>商户列表</p>
	<ul class="myUl"></ul>
	<button class="binding">绑定</button>
	<script src="../js/lib/jquery-1.11.1.js"></script>
	<script src="../js/resources/jquery-mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<script>
		$(document).ready(function(){
			var merchantList = {
				user: {
					name: 'yang',
					id: 1000
				},
				merchantList: [{
					name: '商户4',
					id: '1003'
				},{
					name: '商户3',
					id: '1002'
				},{
					name: '商户2',
					id: '1001'
				},{
					name: '商户1',
					id: '1000'
				}]
			}
			$('.user span').text(merchantList.user.name);
			$.each(merchantList.merchantList,function(){
				var li = $('<li />');
				var input = $('<input />').addClass('merchantInput').prop('checked',true).data('data-id',this.id).prop('type','radio').prop('name',merchantList.user.id);
				li.append(input).append('商户: '+ this.name +'');
				$('.myUl').prepend(li);
			});
			$('body').on('click','ul li',function(e){
				$(this).find('.merchantInput').prop('checked',true).change();
			});
			$('.binding').click(function(){
				var merchantId = $('input[name="'+ merchantList.user.id +'"]:checked').data('data-id');
				console.log(merchantId);
			});
		});
	</script>
</body>
</html>
