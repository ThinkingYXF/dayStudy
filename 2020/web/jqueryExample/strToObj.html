<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <h2>111</h2>
        <div>1</div>
        <div>2</div>
        <div>3</div>
        <p>你好</p>
        <script src="../js/plugins/jQuery/jquery-2.2.3.min.js"></script>
        <script>
            $(document).ready(function(){
                // var arrData = ['product.parts. code','product.price','product.quantity','code','tags.name'];
                // var arrValue = ['1231',3,5,'132123','AM'];
                // var newObj = {};
                // for(var i=0;i<arrData.length;i++){
                //     strToObject(newObj,arrData[i],arrValue[i])
                // }
                // console.log(newObj);

                // //递归函数   第一项为一个空的obj  第二项为 str字段   第三项为 值
                // function strToObject(obj,name,value){
                //     var index = name.indexOf('.');       
                //     if(index===-1){              //找到obj的第一个属性的下标
                //         obj[name] = value;
                //     }
                //     else{
                //         var first = name.substring(0,index);
                //         var rest = name.substring(index+1);
                //         var newObj = obj[first] || {};
                //         obj[first] = strToObject(newObj,rest,value);
                //     }
                //     return obj;
                // }




                var a = {
                    code:'12345',
                    name:'111',
                    parts:{
                        id:123,
                        name:'1ad',
                        brand:{
                            id:2323
                        }
                    }
                }
                var b = {
                    code:'12345',
                    name:'123',
                    parts:{
                        id:222
                    }
                }

                // var num1 = 0;
                // function num(obj){   
                    
                //     for(var i in obj){
                //         num1++;
                //         if(typeof obj[i]=='object')
                //             num(obj[i]);
                //     }
                //     return num1;
                // }
                // console.log(num(a),num(b));

                //将 b的参数覆盖到 a
                function changeObj(oldObj,nowObj){    
                    var num = 0;
                    function keyNum(obj){                          
                        for(var i in obj){
                            num++;
                            if(typeof obj[i]=='object')
                                keyNum(obj[i]);
                        }
                        return num;
                    }

                    if(keyNum(oldObj)*2>=keyNum(nowObj)){
                        console.log(1);
                        for(var i in oldObj){
                            if(!nowObj[i])
                                nowObj[i] = oldObj[i];
                            if(typeof oldObj[i]=='object')
                                changeObj(oldObj[i],nowObj[i]);
                        }
                        return nowObj;
                    }else{
                        return nowObj;
                    }
                }
                console.log(changeObj(b,a));
                // for(var key in a){
                //     if(typeof a[key]=='object')
                //         for(var i in a[key]){
                //             console.log(i);                        }
                //     console.log(key,typeof a[key]);
                // }



                var ha = [1,2,3];
                var hi = {
                    code:12
                }
                $('body').append($('<select><option>&emsp;你好</option></select>'));
                // console.log('')
                console.log($('p').prev());
            })
        </script>
    </body>
</html>