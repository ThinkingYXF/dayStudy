<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>箭头函数</title>
    </head>
    <body>
        
        <script src="../js/lib/jquery-1.11.1.js"></script>
        <script>
            $(document).ready(function(){
                $.get('../json/data.json',(json)=>{
                    console.log(json);
                });

                //传不定参数
                function f(x, y, ...a){
                    console.log(a, a.length);   //a为一个数组 ['qeq','',[]]  除 x y 参数以外 的其他参数的个数
                }
                f(1,2,'qeq','',[]);         // 3

                //  ` 的用法
                var name = {
                    firtName: 'Stark',
                    lastName: 'Ned'
                }
                var log = `Hello ${name.lastName} ${name.firtName},how are you?`;
                console.log(log);

                console.log('𠮷'.length);   //2


                function f1 ([ name, val ]) {
                    console.log(name, val);
                }
                function g ({ name: n, val: v }) {
                    console.log(n, v);
                }
                function h ({ name, val }) {
                    console.log(name, val);
                }
                f1([ "bar", 42 ]);
                g({ name: "foo", val:  7 });
                h({ name: "bar", val: 42 });

                //class 关键字
                class Shape{
                    constructor(id, x, y){
                        this.id = id;
                        this.move(x, y);
                    }
                    move(x, y){
                        this.x = x;
                        this.y = y;
                    }
                }
                var circle = new Shape(1,2,3);
                // es6 继承  使用 extends
                class Rectangle extends Shape {
                    constructor(id, x, y, width, height) {
                        super(id, x, y);
                        this.width = width;
                        this.height = height;
                    }
                }
                class Circle extends Shape {
                    constructor(id, x, y, radius){
                        super(id, x, y);
                        this.radius = radius;
                    }
                }

                Symbol('foo') !== Symbol('foo');
                const foo = Symbol();
                const bar = Symbol();
                console.log(typeof bar);   //symbol

                var num1 = [1,5,2,4].find(x => x > 3);   //找到匹配的第一个
                console.log(num1);

                console.log("a".repeat(4));

                //promise  
                // function myPromise(msg, who, timeout){
                //     return new Pormise((resolve, reject) => {        //Promise 会报错
                //         setTimeout(() => resolve( `${who}, ${msg}!` ),timeout);
                //     });
                // }
                // myPromise('出去', '小刘', 200).then((msg) => 
                //     myPromise('进来', '小刘', 100)
                //     .then((msg) => {
                //         console.log(`finished! after 300ms ${msg}`);
                //     })    
                // );

                var target = {
                    foo: 'Welcome, foo'
                }
                var proxy = new Proxy(target, {
                    get(receiver, name){
                        return name in receiver ? receiver[name] : `Hello, ${name}`;
                    }
                });
                console.log(proxy.foo, proxy.world);  // Welcome, foo   Hello, world
                console.log(proxy.foo, proxy.foo);  // Welcome, foo   Welcome, foo
            });
        </script>
    </body>
</html>